<%- include('../partials/header') %>

<div class="container">
  <div class="page-header">
    <h1>All Prompts</h1>
    <a href="/prompts/new" class="btn btn-primary">Create New Prompt</a>
  </div>

  <% if (prompts.length === 0) { %>
    <div class="empty-state">
      <div class="empty-icon">ðŸ“­</div>
      <h2>No Prompts Yet</h2>
      <p>Start by creating your first prompt!</p>
      <a href="/prompts/new" class="btn btn-primary">Create Prompt</a>
    </div>
  <% } else { %>
    <div class="prompts-grid">
      <% prompts.forEach(prompt => { %>
        <div class="prompt-card">
          <div class="prompt-header">
            <span class="prompt-from">From: <%= prompt.from %></span>
            <span class="prompt-to">To: <%= prompt.to %></span>
          </div>
          <div class="prompt-body">
            <p class="prompt-message"><%= prompt.message %></p>
          </div>
          <div class="prompt-footer">
            <span class="prompt-date">
              <%= new Date(prompt.createdAt).toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
              }) %>
            </span>
            <div class="prompt-actions">
              <a href="/prompts/edit/<%= prompt._id %>" class="btn btn-small btn-edit">Edit</a>
              <form action="/prompts/<%= prompt._id %>?_method=DELETE" method="POST" style="display: inline;">
                <button type="submit" class="btn btn-small btn-delete" onclick="return confirm('Are you sure you want to delete this prompt?')">Delete</button>
              </form>
            </div>
          </div>
        </div>
      <% }); %>
    </div>
  <% } %>
</div>

<%- include('../partials/footer') %>
